\documentclass[fleqn]{llncs}
\usepackage{latexsym}
\usepackage{amssymb,amsmath}
\usepackage{stmaryrd}
\usepackage{graphicx}
%\usepackage{color}
\usepackage{hyperref}
\usepackage{phonetic}
\usepackage{xargs}
\usepackage[pdftex,dvipsnames]{xcolor}
\usepackage{listings}

\lstset{language=haskell,basicstyle=\ttfamily\small,breaklines=true,showspaces=false,
  showstringspaces=false,breakatwhitespace=true,texcl=true}

\input{towards-spec-sym-comp-def}

\usepackage[colorinlistoftodos,textsize=tiny]{todonotes}
\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}

\title{Towards Specifying Symbolic Computation\thanks{This research is
    supported by NSERC.}}

\author{Jacques Carette and William M. Farmer}

\institute{%
Computing and Software, McMaster University, Canada\\
\url{http://www.cas.mcmaster.ca/~carette}\\
\url{http://imps.mcmaster.ca/wmfarmer}\\[1.5ex]
%21 Feburary 2019
}

\pagestyle{headings}

\iffalse

Examples:

  1. Factoring integers
  2. Change of representation for polynomials
  3. Normalization of rational expressions
  4. Integration by parts
  5. Symbolic differentiation
      o ln/exp example

Example format:

  1. Mathematical task
  2. How the task is performed in Maple
  3. Problems with performing the task
  4. Proposed solution
  5. Specification of the task in CTT_uqe

\fi

\begin{document}

\maketitle

\begin{abstract}
??
\end{abstract}

\iffalse 

\textbf{Keywords:} ??

\fi

\section{Introduction}

\section{Simplifying Expressions denoting Rational Functions}

\subsection{The Problem}

Let $f = \LambdaApp x : \mathbb{Q} \mdot R(x)$ be an expression that
denotes a function of type $\mathbb{Q} \tarrow \mathbb{Q}$.
Furthermore, let $R(x)$, as a syntactic expression, denote a member of
the field $\mathbb{Q}(x)$ consisting of \emph{rational expressions} of
the form $\frac{P(x)}{Q(x)}$ where $P(x)$ and $Q(x)$ are polynomials
in $x$.  A function that can be represented by an expression like $f$
whose body is a rational expression is called a \emph{rational
  function}.

$R(x)$ could be a very complicated expression build from the primitive
components of the field $\mathbb{Q}(x)$: $0,1,+,*,-,\phantom{}^{-1}$.
An obvious way to simplify $f$ would be to simplify $R(x)$
syntactically as a rational expression in a meaning-preserving way.
This operation, which we will call \mname{simpRatFun}, is an example
of a \emph{syntax-based mathematical algorithm (SBMA)}.  As an SBMA,
\mname{simpRatFun} works by manipulating syntactic expressions in a
mathematically meaningful way.

SBMAs can be difficult to specify since they involve an interplay of
syntax and semantics.  We are interested in the following three
questions:

\be

  \item What should be the specification of \mname{simpRatFun}?

  \item Can this specification be expressed in traditional logic?

  \item How would this specification be expressed in a logic with
    undefinedness, quotation, and evaluation?

\ee

\subsection{A Naive Specification}

Let $R(x)$ be an expression that denotes a member of $\mathbb{Q}(x)$.
The \emph{normal form} of $R(x)$ is an expression $R'(x)$ of the form
$\frac{P(x)}{Q(x)}$ such that $P(x)$ and $Q(x)$ are polynomials in
standard form, $\frac{P(x)}{Q(x)}$ is in lowest terms, and $R(x)$ and
$R'(x)$ both denote the same member of $\mathbb{Q}(x)$.  For example,
the normal form of \[\frac{x^2 + 2x - 1}{x^2 - 1} - \frac{x}{x - 1}\]
is \[\frac{1}{x + 1}.\]

If we do not think too hard, we might be tempted to specify
\mname{simpRatFun} as follows: 

\bi

  \item[] For all expressions $f = \LambdaApp x : \mathbb{Q} \mdot
    R(x)$ of type $\mathbb{Q} \tarrow \mathbb{Q}$ where the expression
    $R(x)$ denotes a member of $\mathbb{Q}(x)$, $\mname{simpRatFun}(f)
    = \LambdaApp x : \mathbb{Q} \mdot R'(x)$ where $R'(x)$ is the
    normal form of $R(x)$.

\ei
%
Hence \mname{simpRatFun} applied to \[\LambdaApp x : \mathbb{Q} \mdot
\frac{x^2 + 2x - 1}{x^2 - 1} - \frac{x}{x - 1}\] should return 
\[\LambdaApp x : \mathbb{Q} \mdot \frac{1}{x + 1}.\]

This specification is essentially the same as Maple's \mname{normal}
operation that reduces the expression $\frac{x^2 - 2x - 1}{x^2 - 1} -
\frac{x}{x - 1}$ to $\frac{1}{x + 1}$.

Is this specification of \mname{simpRatFun} correct?  If so, $f$ and
$\mname{simpRatFun}(f)$ should denote the same function of type
$\mathbb{Q} \tarrow \mathbb{Q}$ for all expressions $f$ that denote
rational functions.  Unfortunately, this is not the case.  Let \[f =
\LambdaApp x : \mathbb{Q} \mdot \frac{x^2 + 2x - 1}{x^2 - 1} -
\frac{x}{x - 1}.\]  Then $f(1)$ is obviously undefined, but
$\mname{simpRatFun}(f)(1) = 1/2$.  Hence \mname{simpRatFun} is --- as
specified --- not meaning preserving.  What went wrong?

\subsection{A Correct Specification}

\subsection{A Formalized Specification}

\section{Conclusion}

\bibliography{imps}
\bibliographystyle{splncs04}

\setcounter{tocdepth}{1}
\listoftodos
\setcounter{tocdepth}{0}

\end{document}
